<!DOCTYPE html>
<html dir="ltr" class="client-js" lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>NTSC video - Nesdev wiki</title>
<meta charset="UTF-8">
<meta name="generator" content="MediaWiki 1.20.2">
<link rel="shortcut icon" href="http://wiki.nesdev.com/favicon.ico">
<link rel="search" type="application/opensearchdescription+xml" href="http://wiki.nesdev.com/w/opensearch_desc.php" title="Nesdev wiki (en)">
<link rel="EditURI" type="application/rsd+xml" href="http://wiki.nesdev.com/w/api.php?action=rsd">
<link rel="alternate" type="application/atom+xml" title="Nesdev wiki Atom feed" href="http://wiki.nesdev.com/w/index.php?title=Special:RecentChanges&amp;feed=atom">
<link rel="stylesheet" href="NTSC%20video%20-%20Nesdev%20wiki_files/load_002.css">
<!--[if IE 6]><link rel="stylesheet" href="/w/skins/monobook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/w/skins/monobook/IE70Fixes.css?303" media="screen" /><![endif]--><style>.mw-collapsible-toggle{float:right} li .mw-collapsible-toggle{float:none} .mw-collapsible-toggle-li{list-style:none}
/* cache key: nesdev_wiki-mw1_:resourceloader:filter:minify-css:7:4250852ed2349a0d4d0fc6509a3e7d4c */.suggestions{overflow:hidden;position:absolute;top:0;left:0;width:0;border:none;z-index:1099;padding:0;margin:-1px -1px 0 0} html > body .suggestions{margin:-1px 0 0 0}.suggestions-special{position:relative;background-color:white;cursor:pointer;border:solid 1px #aaaaaa;padding:0;margin:0;margin-top:-2px;display:none;padding:0.25em 0.25em;line-height:1.25em}.suggestions-results{background-color:white;cursor:pointer;border:solid 1px #aaaaaa;padding:0;margin:0}.suggestions-result{color:black;margin:0;line-height:1.5em;padding:0.01em 0.25em;text-align:left}.suggestions-result-current{background-color:#4C59A6;color:white}.suggestions-special .special-label{color:gray;text-align:left}.suggestions-special .special-query{color:black;font-style:italic;text-align:left}.suggestions-special .special-hover{background-color:silver}.suggestions-result-current .special-label,.suggestions-result-current .special-query{color:white}.autoellipsis-matched,.highlight{font-weight:bold}
/* cache key: nesdev_wiki-mw1_:resourceloader:filter:minify-css:7:9780324491b653a3780e2d029bdc140c */</style><meta name="ResourceLoaderDynamicStyles" content="">
<link rel="stylesheet" href="NTSC%20video%20-%20Nesdev%20wiki_files/load.css">
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: nesdev_wiki-mw1_:resourceloader:filter:minify-css:7:b2ff0e5460847bfbc2a67ca6bf6f3969 */</style>

<script src="NTSC%20video%20-%20Nesdev%20wiki_files/load_004.php"></script><script src="NTSC%20video%20-%20Nesdev%20wiki_files/load_005.php"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"NTSC_video","wgTitle":"NTSC video","wgCurRevisionId":7277,"wgArticleId":58,"wgIsArticle":true,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"NTSC_video","wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function(){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"monobook","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,"watchlistdays":3,
"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false});;},{},{});mw.loader.implement("user.tokens",function(){mw.user.tokens.set({"editToken":"+\\","watchToken":false});;},{},{});
/* cache key: nesdev_wiki-mw1_:resourceloader:filter:minify-js:7:c89fc005766e312c555f83b307d08d63 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script><script type="text/javascript" src="NTSC%20video%20-%20Nesdev%20wiki_files/load_003.php"></script><link href="NTSC%20video%20-%20Nesdev%20wiki_files/FF2Fixes.css" rel="stylesheet" type="text/css">
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-NTSC_video skin-monobook action-view">
<div id="globalWrapper">
<div id="column-content"><div id="content" class="mw-body-primary">
	<a id="top"></a>
	
	<h1 id="firstHeading" class="firstHeading"><span dir="auto">NTSC video</span></h1>
	<div id="bodyContent" class="mw-body">
		<div id="siteSub">From Nesdev wiki</div>
		<div id="contentSub"></div>
		<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>
		<!-- start content -->
<div id="mw-content-text" dir="ltr" class="mw-content-ltr" lang="en"><p><i>Note: This data is preliminary and still being reviewed.</i>
</p>
<table id="toc" class="toc"><tbody><tr><td><div id="toctitle"><h2>Contents</h2><span class="toctoggle">&nbsp;[<a href="#" class="internal" id="togglelink">hide</a>]&nbsp;</span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Basics"><span class="tocnumber">1</span> <span class="toctext">Basics</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Scanline_Timing"><span class="tocnumber">2</span> <span class="toctext">Scanline Timing</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Brightness_Levels"><span class="tocnumber">3</span> <span class="toctext">Brightness Levels</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Color_Phases"><span class="tocnumber">4</span> <span class="toctext">Color Phases</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Color_Tint_Bits"><span class="tocnumber">5</span> <span class="toctext">Color Tint Bits</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Example_Waveform"><span class="tocnumber">6</span> <span class="toctext">Example Waveform</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Emulating_in_C.2B.2B_code"><span class="tocnumber">7</span> <span class="toctext">Emulating in C++ code</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Interactive_Demo"><span class="tocnumber">8</span> <span class="toctext">Interactive Demo</span></a></li>
</ul>
</td></tr></tbody></table>
<h2> <span class="mw-headline" id="Basics">Basics</span></h2>
<p>NTSC Master clock is 21.47727273 MHz and each PPU pixel lasts four 
clocks; PAL master clock is 26.6017125 MHz, and each PPU pixel lasts 
five clocks. $xy refers to a palette color in the range $00 to $3F.
</p>
<h2> <span class="mw-headline" id="Scanline_Timing">Scanline Timing</span></h2>
<p>Values in PPU pixels (341 total per scanline).
</p>
<table class="wikitable">
<tbody><tr>
<th> name </th>
<th> start </th>
<th> duration
</th></tr>
<tr>
<td> sync </td>
<td> 280 </td>
<td> 25
</td></tr>
<tr>
<td> black </td>
<td> 305 </td>
<td> 4
</td></tr>
<tr>
<td> colorburst </td>
<td> 309 </td>
<td> 15
</td></tr>
<tr>
<td> black </td>
<td> 324 </td>
<td> 5
</td></tr>
<tr>
<td> pulse </td>
<td> 329 </td>
<td> 1
</td></tr>
<tr>
<td> left border (background color) </td>
<td> 330 </td>
<td> 15
</td></tr>
<tr>
<td> active </td>
<td> 4 </td>
<td> 256
</td></tr>
<tr>
<td> right border (background color) </td>
<td> 260 </td>
<td> 11
</td></tr>
<tr>
<td> black </td>
<td> 271 </td>
<td> 9
</td></tr></tbody></table>
<h2> <span class="mw-headline" id="Brightness_Levels">Brightness Levels</span></h2>
<p>Voltage levels used by the PPU are as follows - absolute, relative to synch, and normalized between black level and white:
</p>
<table class="wikitable">
<tbody><tr>
<td> Type </td>
<td> Absolute </td>
<td> Relative </td>
<td> Normalized
</td></tr>
<tr>
<td> Synch </td>
<td> 0.781 </td>
<td> 0.000 </td>
<td> -0.359
</td></tr>
<tr>
<td> Colorburst L </td>
<td> 1.000 </td>
<td> 0.218 </td>
<td> -0.208
</td></tr>
<tr>
<td> Colorburst H </td>
<td> 1.712 </td>
<td> 0.931 </td>
<td> 0.286
</td></tr>
<tr>
<td>Color 0D </td>
<td> 1.131 </td>
<td> 0.350 </td>
<td> -0.117
</td></tr>
<tr>
<td>Color 1D (black) </td>
<td> 1.300 </td>
<td> 0.518 </td>
<td> 0.000
</td></tr>
<tr>
<td>Color 2D </td>
<td> 1.743 </td>
<td> 0.962 </td>
<td> 0.308
</td></tr>
<tr>
<td>Color 3D </td>
<td> 2.331 </td>
<td> 1.550 </td>
<td> 0.715
</td></tr>
<tr>
<td>Color 00 </td>
<td> 1.875 </td>
<td> 1.090 </td>
<td> 0.397
</td></tr>
<tr>
<td>Color 10 </td>
<td> 2.287 </td>
<td> 1.500 </td>
<td> 0.681
</td></tr>
<tr>
<td>Color 20 </td>
<td> 2.743 </td>
<td> 1.960 </td>
<td> 1.000
</td></tr>
<tr>
<td>Color 30 </td>
<td> 2.743 </td>
<td> 1.960 </td>
<td> 1.000
</td></tr></tbody></table>
<p>$xE/$xF output the same voltage as $1D. $x1-$xC output a square wave 
alternating between levels for $xD and $x0. Colors $20 and $30 are 
exactly the same.
</p>
<h2> <span class="mw-headline" id="Color_Phases">Color Phases</span></h2>
<pre>111111------
22222------2
3333------33
444------444
55------5555
6------66666
------777777
-----888888-
----999999--
---AAAAAA---
--BBBBBB----
-CCCCCC-----
</pre>
<p>The color generator is clocked by the rising <i>and</i> falling edges
 of the ~21.48 MHz clock, resulting in an effective ~42.95 MHz clock 
rate. There are 12 color square waves, spaced at regular phases. Each 
runs at the ~3.58 MHz colorburst rate. On NTSC, color $xY uses the wave 
shown in row Y from the table. NTSC color burst (pure shade -U) uses 
color phase 8 (with voltages listed above); PAL color burst is believed 
to alternate between 7 (-U+V) and A (-U-V), so hue is rotated by 15° 
from NTSC. <a href="http://en.wikipedia.org/wiki/PAL" class="extiw" title="wikipedia:PAL">PAL</a>
 alternates the broadcast sign of the V component, so on PAL every odd 
scanline will use the appropriate opposite phase—e.g. phases 5-C are 
respectively replaced with C-5.
</p>
<h2> <span class="mw-headline" id="Color_Tint_Bits">Color Tint Bits</span></h2>
<p>There are three color modulation channels controlled by the top three
 bits of $2001. Each channel uses one of the color square waves (see 
above diagram) and enables attenuation of the video signal when the 
color square wave is high. A single attenuator is shared by all 
channels.
</p>
<table class="wikitable">
<tbody><tr>
<th> $2001 </th>
<th> Active phase </th>
<th> Complement
</th></tr>
<tr>
<td> Bit 7 </td>
<td> Color 8 </td>
<td> Color 2 (blue)
</td></tr>
<tr>
<td> Bit 6 </td>
<td> Color 4 </td>
<td> Color A (green)
</td></tr>
<tr>
<td> Bit 5 </td>
<td> Color C </td>
<td> Color 6 (red)
</td></tr></tbody></table>
<p>When signal attenuation is enabled by one or more of the channels and
 the current pixel is a color other than $xE/$xF (black), the signal is 
attenuated as follows (calculations given for both relative and absolute
 values as shown in the voltage table above):
</p><p><tt>relative = relative * 0.746</tt>
</p><p><tt>normalized = normalized * 0.746 - 0.0912</tt>
</p><p>For example, when $2001 bit 6 is true, the attenuator will be 
active during the phases of color 4.
This means the attenuator is not active during its complement (color A),
 and the screen appears to have a tint of color A, which is green.
</p>
<h2> <span class="mw-headline" id="Example_Waveform">Example Waveform</span></h2>
<p>This waveform steps through various grays and then stops on a color.
</p>
<pre> 1.0               +--+
 0.9               |  |
 0.8               |  |
 0.7            +--+  | +-+ +-+
 0.6            |     | | | | |
 0.5            |     | | | | |
 0.4         +--+     | | | | |
 0.3      +--+        | | | | |
 0.2      |           | | | | |
 0.1      |           | | | | |
 0.0 . +--+ . . . . . +-+ +-+ + . .
-0.1 --+
     0D 0F 2D 00 10 30   11
</pre>
<p>The PPU's shortcut method of NTSC modulation often produces artifacts
 in which vertical lines appear slightly ragged, as the chroma spills 
over into luma.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:258px;"><a href="http://wiki.nesdev.com/w/index.php/File:NTSC_video_ragged_box.png" class="image"><img alt="" src="NTSC%20video%20-%20Nesdev%20wiki_files/NTSC_video_ragged_box.png" class="thumbimage" height="160" width="256"></a>  <div class="thumbcaption">Generation and demodulation of a red corner</div></div></div>
<p><br clear="all">
</p><p><br>
</p>
<h2> <span class="mw-headline" id="Emulating_in_C.2B.2B_code">Emulating in C++ code</span></h2>
<p>Calculating the momentary NTSC signal level can be done as follows in C++:
</p>
<pre>// pixel = Pixel color (9-bit) given as input. Bitmask format: "eeellcccc".
// phase = Signal phase (0..11). It is a variable that increases by 8 each pixel.
float NTSCsignal(int pixel, int phase)
{
    // Voltage levels, relative to synch voltage
    static const float black=.518f, white=1.962f, attenuation=.746f,
        levels[8] = {.350f, .518f, .962f,1.550f,  // Signal low
                    1.094f,1.506f,1.962f,1.962f}; // Signal high

    // Decode the NES color.
    int color = (pixel &amp; 0x0F);    // 0..15 "cccc"
    int level = (pixel &gt;&gt; 4) &amp; 3;  // 0..3  "ll"
    int emphasis = (pixel &gt;&gt; 6);   // 0..7  "eee"
    if(color &gt; 13) { level = 1;  } // For colors 14..15, level 1 is forced.

    // The square wave for this color alternates between these two voltages:
    float low  = levels[0 + level];
    float high = levels[4 + level];
    if(color == 0) { low = high; } // For color 0, only high level is emitted
    if(color &gt; 12) { high = low; } // For colors 13..15, only low level is emitted

    // Generate the square wave
    auto InColorPhase = [=](int color) { return (color + phase) % 12 &lt; 6; }; // Inline function
    float signal = InColorPhase(color) ? high : low;

    // When de-emphasis bits are set, some parts of the signal are attenuated:
    if( ((emphasis &amp; 1) &amp;&amp; InColorPhase(0))
    ||  ((emphasis &amp; 2) &amp;&amp; InColorPhase(4))
    ||  ((emphasis &amp; 4) &amp;&amp; InColorPhase(8)) ) signal = signal * attenuation;

    return signal;
}
</pre>
<p>The process of generating NTSC signal for a single pixel can be simulated with the following C++ code:
</p>
<pre>void RenderNTSCpixel(unsigned x, int pixel, int PPU_cycle_counter)
{
    int phase = PPU_cycle_counter * 8;
    for(int p=0; p&lt;8; ++p) // Each pixel produces distinct 8 samples of NTSC signal.
    {
        float signal = NTSCsignal(pixel, phase + p); // Calculated as above
        // Optionally apply some lowpass-filtering to the signal here.
        // Optionally normalize the signal to 0..1 range:
        static const float black=.518f, white=1.962f;
        signal = (signal-black) / (white-black);
        // Save the signal for this pixel.
        signal_levels[ x*8 + p ] = signal;
    }
}

</pre>
<p>It is important to note that while the NES only generates eight (8) 
samples of NTSC signal per pixel, the wavelength for chroma is 12 
samples long. This means that the colors of adjacent pixels get 
mandatorily mixed up to some degree. For the same reason, narrow 
black&amp;white details can be interpreted as colors.
</p><p>Because the scanline length is uneven (341*8 is not an even 
multiple of 12), the color mixing shifts a little each scanline. This 
appears visually as a sawtooth effect at the edges of colors at high 
resolution. The sawtooth cycles every 3 scanlines.
</p><p>Because also the frame length is uneven (neither 262*341*8 nor 
(262*341-1)*8 is an even multiple of 12), the color mixing also changes a
 little every frame. When rendering is normally enabled, the screen is 
alternatingly 89342 and 89341 cycles long. The combination of these 
(89342+89341)*8 <i>is</i> an even multiple of 12, which means that the 
artifact pattern cycles every 2 frames. The pattern of cycling can be 
changed by disabling rendering during the end of the pre-render 
scanline; it forces the screen length to 89342 cycles, even if would be 
89341 otherwise.
</p><p>The process of decoding NTSC signal (convert it into RGB) is 
subject to a lot of study, and there are many patents and different 
techniques for it. A simple method suitable for emulation is covered 
below. It is not accurate, because in reality the chroma is blurred much
 more than is done here (the region of signal sampled for I and Q is 
wider than 12 samples), and the filter used here is a simple box FIR 
filter rather than an IIR filter, but it already produces a quite 
authentic looking picture. In addition, the border region (total of 26 
pixels of background color around the 256-pixel scanline) is not 
sampled.
</p>
<pre>    float signal_levels[256*8] = {...}; // Eight signal levels for each pixel, normalized to 0..1 range. 
Calculated as above.

    unsigned Width; // Input: Screen width. Can be not only 256, but anything up to 2048.
    float phase;    // Input: This should the value that was PPU_cycle_counter * 8 + 3.9
                    // at the BEGINNING of this scanline. It should be modulo 12.
                    // It can additionally include a floating-point hue offset.
    for(unsigned x = 0; x &lt; Width; ++x)
    {
        // Determine the region of scanline signal to sample. Take 12 samples.
        int center = x * (256*8) / Width + 0;
        int begin = center - 6; if(begin &lt; 0)     begin = 0;
        int end   = center + 6; if(end   &gt; 256*8) end   = 256*8;
        float y = 0.f, i = 0.f, q = 0.f; // Calculate the color in YIQ.
        for(int p = begin; p &lt; end; ++p) // Collect and accumulate samples
        {
            float level = signal_levels[p] / 12.f;
            y  =  y + level;
            i  =  i + level * cos( M_PI * (phase+p) / 6 );
            q  =  q + level * sin( M_PI * (phase+p) / 6 );
        }
        render_pixel(y,i,q); // Send the YIQ color for rendering.
    }
</pre>
<p>The NTSC decoder here produces pixels in YIQ color space.
</p><p>If you want more saturated colors, just multiply <code>i</code> and <code>q</code> with a factor of your choosing, such as 1.7. If you want brighter colors, just multiply <code>y</code>, <code>i</code> and <code>q</code> with a factor of your choosing, such as 1.1. If you want to adjust the hue, just add or subtract a value from/to <code>phase</code>.
 If you want to see so called chroma dots, change the begin and end in 
such manner that you collect a number of samples that is not divisible 
with 12. If you want to blur the video horizontally, change the begin 
and end in such manner that the samples are collected from a wider 
region.
</p><p>The YIQ colors can be converted into sRGB colors with the 
following formula, using the FCC-sanctioned YIQ-to-RGB conversion 
matrix. This produces a value that can be saved to e.g. framebuffer:
</p>
<pre>    float gamma = 2.0f; // Assumed display gamma
    auto gammafix = [=](float f) { return f &lt;= 0.f ? 0.f : pow(f, 2.2f / gamma); };
    auto clamp    = [](int v) { return v&gt;255 ? 255 : v; };
    unsigned rgb =
        0x10000*clamp(255.95 * gammafix(y +  0.946882f*i +  0.623557f*q))
      + 0x00100*clamp(255.95 * gammafix(y + -0.274788f*i + -0.635691f*q))
      + 0x00001*clamp(255.95 * gammafix(y + -1.108545f*i +  1.709007f*q));
</pre>
<p>The two images below illustrate the NTSC artifacts.
In the left side image, 12 samples of NTSC signal were generated for each NES pixel,
and each display pixel was separately rendered by decoding that 12-sample signal.
In the right side image, 8 samples of NTSC signal were generated for each NES pixel,
and each display pixel was rendered by decoding 12 samples of NTSC signal from the
corresponding location within the scanline.<br clear="all">
</p>
<table cellpadding="0" cellspacing="0">
<tbody><tr><td colspan="2"><div class="thumb tleft"><div class="thumbinner" style="width:586px;"><a href="http://wiki.nesdev.com/w/index.php/File:Nes_ntsc_perpixel.png" class="image"><img alt="" src="NTSC%20video%20-%20Nesdev%20wiki_files/Nes_ntsc_perpixel.png" class="thumbimage" height="480" width="584"></a>  <div class="thumbcaption">Per-pixel rendering: 12 samples of NTSC signal per input pixel; the same 12 samples are decoded for each output pixel</div></div></div></td>
<td colspan="2"><div class="thumb tleft"><div class="thumbinner" style="width:586px;"><a href="http://wiki.nesdev.com/w/index.php/File:Nes_ntsc_perscanline.gif" class="image"><img alt="" src="NTSC%20video%20-%20Nesdev%20wiki_files/Nes_ntsc_perscanline.gif" class="thumbimage" height="480" width="584"></a>  <div class="thumbcaption">Per-scanline rendering: 8 samples of NTSC signal per input pixel; 12 samples are decoded for each output pixel</div></div></div></td></tr>
<tr><td><div class="thumb tleft"><div class="thumbinner" style="width:258px;"><a href="http://wiki.nesdev.com/w/index.php/File:Nes_ntsc_perpixel_small.png" class="image"><img alt="" src="NTSC%20video%20-%20Nesdev%20wiki_files/Nes_ntsc_perpixel_small.png" class="thumbimage" height="240" width="256"></a>  <div class="thumbcaption">Same as above, but rendered at 256x240 without upscaling</div></div></div></td>
<td><div class="thumb tleft"><div class="thumbinner" style="width:258px;"><a href="http://wiki.nesdev.com/w/index.php/File:Nes_ntsc_perpixel_small_bw.png" class="image"><img alt="" src="NTSC%20video%20-%20Nesdev%20wiki_files/Nes_ntsc_perpixel_small_bw.png" class="thumbimage" height="240" width="256"></a>  <div class="thumbcaption">Same
 in grayscale (zero saturation). This illustrates well how the different
 color values have exactly the same luminosity; only the chroma phase 
differs.</div></div></div></td>
<td><div class="thumb tleft"><div class="thumbinner" style="width:258px;"><a href="http://wiki.nesdev.com/w/index.php/File:Nes_ntsc_perscanline_small.gif" class="image"><img alt="" src="NTSC%20video%20-%20Nesdev%20wiki_files/Nes_ntsc_perscanline_small.gif" class="thumbimage" height="240" width="256"></a>  <div class="thumbcaption">Same as above, but rendered at 256x240 rather than at 2048x240 and then downscaled</div></div></div></td>
<td><div class="thumb tleft"><div class="thumbinner" style="width:258px;"><a href="http://wiki.nesdev.com/w/index.php/File:Nes_ntsc_perscanline_small_bw.gif" class="image"><img alt="" src="NTSC%20video%20-%20Nesdev%20wiki_files/Nes_ntsc_perscanline_small_bw.gif" class="thumbimage" height="240" width="256"></a>  <div class="thumbcaption">Same in grayscale</div></div></div></td></tr></tbody></table>
<p>The source code of the program that generated both images can be read at <a rel="nofollow" class="external autonumber" href="http://bisqwit.iki.fi/jutut/kuvat/programming_examples/nesemu1/ntsc_test.phps">[1]</a>.
 Note that even though the image resembles the well-known Philips PM5544
 test card, it is not the same; the exact same
colors could not be reproduced with NES colors. In addition, some parts 
were changed to better test NES features. For example, the backgrounds 
for the "station ID" regions (the black rectangles at the top and at the
 bottom inside the circle) are generated using the various blacks within
 the NES palette.
</p>
<h2> <span class="mw-headline" id="Interactive_Demo">Interactive Demo</span></h2>
<p>The following C source code implements the above described algorithm 
and displays it on screen with interactive mouse control of phase using <a rel="nofollow" class="external text" href="http://www.libsdl.org/index.php">SDL</a>.
</p>
<ul><li> <a rel="nofollow" class="external text" href="http://www.io.com/%7Egreens/temp/nes_ntsc_waveform.c">nes_ntsc_waveform.c</a>
</li><li> <a rel="nofollow" class="external text" href="http://www.baisoku.org/nes_ntsc_waveform.zip">Windows executable (requires SDL.dll)</a>
</li><li> <a href="http://wiki.nesdev.com/w/index.php?title=Special:Upload&amp;wpDestFile=Nes_ntsc_palette.c" class="new" title="Nes ntsc palette.c">nes_ntsc_palette.c</a> - a sample NTSC palette generator program
</li></ul>

<!-- 
NewPP limit report
Preprocessor visited node count: 81/1000000
Preprocessor generated node count: 146/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key nesdev_wiki-mw1_:pcache:idhash:58-0!*!*!!en!2!* and timestamp 20140411220005 -->
</div><div class="printfooter">
Retrieved from "<a href="http://wiki.nesdev.com/w/index.php?title=NTSC_video&amp;oldid=7277">http://wiki.nesdev.com/w/index.php?title=NTSC_video&amp;oldid=7277</a>"</div>
		<div id="catlinks" class="catlinks catlinks-allhidden"></div>		<!-- end content -->
				<div class="visualClear"></div>
	</div>
</div></div>
<div id="column-one">
	<div id="p-cactions" class="portlet">
		<h5>Views</h5>
		<div class="pBody">
			<ul>
				<li id="ca-nstab-main" class="selected"><a href="http://wiki.nesdev.com/w/index.php/NTSC_video" primary="1" context="subject" title="View the content page [alt-shift-c]" accesskey="c">Page</a></li>
				<li id="ca-talk"><a href="http://wiki.nesdev.com/w/index.php/Talk:NTSC_video" primary="1" context="talk" title="Discussion about the content page [alt-shift-t]" accesskey="t">Discussion</a></li>
				<li id="ca-viewsource"><a href="http://wiki.nesdev.com/w/index.php?title=NTSC_video&amp;action=edit" primary="1" title="This page is protected.
You can view its source [alt-shift-e]" accesskey="e">View source</a></li>
				<li id="ca-history"><a href="http://wiki.nesdev.com/w/index.php?title=NTSC_video&amp;action=history" rel="archives" title="Past revisions of this page [alt-shift-h]" accesskey="h">History</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-personal">
		<h5>Personal tools</h5>
		<div class="pBody">
			<ul>
				<li id="pt-createaccount"><a href="http://wiki.nesdev.com/w/index.php?title=Special:UserLogin&amp;returnto=NTSC+video&amp;type=signup">Create account</a></li>
				<li id="pt-login"><a href="http://wiki.nesdev.com/w/index.php?title=Special:UserLogin&amp;returnto=NTSC+video" title="You are encouraged to log in; however, it is not mandatory [alt-shift-o]" accesskey="o">Log in</a></li>
			</ul>
		</div>
	</div>
	<div class="portlet" id="p-logo">
<a href="http://wiki.nesdev.com/w/index.php/Nesdev_Wiki" style="background-image: url(/w/skins/common/images/NESdevWikiLogo7.png);" title="Visit the main page"></a>
	</div>
	<div class="generated-sidebar portlet" id="p-navigation">
		<h5>Navigation</h5>
		<div class="pBody">
			<ul>
				<li id="n-Nesdev-main-page"><a href="http://wiki.nesdev.com/w/index.php/Nesdev">Nesdev main page</a></li>
				<li id="n-Wiki-main-page"><a href="http://wiki.nesdev.com/w/index.php/Nesdev_Wiki">Wiki main page</a></li>
				<li id="n-NES-reference-guide"><a href="http://wiki.nesdev.com/w/index.php/NES_reference_guide">NES reference guide</a></li>
				<li id="n-Programming-guide"><a href="http://wiki.nesdev.com/w/index.php/Programming_guide">Programming guide</a></li>
				<li id="n-Projects"><a href="http://wiki.nesdev.com/w/index.php/Projects">Projects</a></li>
				<li id="n-Offline-HTML-version"><a href="http://wiki.nesdev.com/w/nesdevwiki_2014-03-13.zip" rel="nofollow">Offline HTML version</a></li>
				<li id="n-NESdev-BBS"><a href="http://forums.nesdev.com/" rel="nofollow">NESdev BBS</a></li>
				<li id="n-.23NESdev"><a href="http://wiki.nesdev.com/w/index.php/NESdev_IRC_channel">#NESdev</a></li>
				<li id="n-recentchanges"><a href="http://wiki.nesdev.com/w/index.php/Special:RecentChanges" title="A list of recent changes in the wiki [alt-shift-r]" accesskey="r">Recent changes</a></li>
			</ul>
		</div>
	</div>
	<div id="p-search" class="portlet">
		<h5><label for="searchInput">Search</label></h5>
		<div id="searchBody" class="pBody">
			<form action="/w/index.php" id="searchform">
				<input name="title" value="Special:Search" type="hidden">
				<input placeholder="Search" autocomplete="off" name="search" title="Search Nesdev wiki [alt-shift-f]" accesskey="f" id="searchInput" type="search">
				<input name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" type="submit">&nbsp;
				<input name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" type="submit">
			</form>
		</div>
	</div>
	<div class="portlet" id="p-tb">
		<h5>Toolbox</h5>
		<div class="pBody">
			<ul>
				<li id="t-whatlinkshere"><a href="http://wiki.nesdev.com/w/index.php/Special:WhatLinksHere/NTSC_video" title="A list of all wiki pages that link here [alt-shift-j]" accesskey="j">What links here</a></li>
				<li id="t-recentchangeslinked"><a href="http://wiki.nesdev.com/w/index.php/Special:RecentChangesLinked/NTSC_video" title="Recent changes in pages linked from this page [alt-shift-k]" accesskey="k">Related changes</a></li>
				<li id="t-specialpages"><a href="http://wiki.nesdev.com/w/index.php/Special:SpecialPages" title="A list of all special pages [alt-shift-q]" accesskey="q">Special pages</a></li>
				<li id="t-print"><a href="http://wiki.nesdev.com/w/index.php?title=NTSC_video&amp;printable=yes" rel="alternate" title="Printable version of this page [alt-shift-p]" accesskey="p">Printable version</a></li>
				<li id="t-permalink"><a href="http://wiki.nesdev.com/w/index.php?title=NTSC_video&amp;oldid=7277" title="Permanent link to this revision of the page">Permanent link</a></li>
			</ul>
		</div>
	</div>
</div><!-- end of the left (by default at least) column -->
<div class="visualClear"></div>
<div id="footer">
	<div id="f-poweredbyico">
		<a href="http://www.mediawiki.org/"><img src="NTSC%20video%20-%20Nesdev%20wiki_files/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" height="31" width="88"></a>
	</div>
	<ul id="f-list">
		<li id="lastmod"> This page was last modified on 24 August 2013, at 01:21.</li>
		<li id="viewcount">This page has been accessed 16,476 times.</li>
		<li id="privacy"><a href="http://wiki.nesdev.com/w/index.php/Nesdev_wiki:Privacy_policy" title="Nesdev wiki:Privacy policy">Privacy policy</a></li>
		<li id="about"><a href="http://wiki.nesdev.com/w/index.php/Nesdev_wiki:About" title="Nesdev wiki:About">About Nesdev wiki</a></li>
		<li id="disclaimer"><a href="http://wiki.nesdev.com/w/index.php/Nesdev_wiki:General_disclaimer" title="Nesdev wiki:General disclaimer">Disclaimers</a></li>
	</ul>
</div>
</div>
<script>if(window.mw){
mw.loader.state({"site":"loading","user":"missing","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.user","mediawiki.page.ready","mediawiki.searchSuggest"], null, true);
}</script><script type="text/javascript" src="NTSC%20video%20-%20Nesdev%20wiki_files/load_002.php"></script>
<script src="NTSC%20video%20-%20Nesdev%20wiki_files/load.php"></script>
<!-- Served in 0.311 secs. --><div class="suggestions" style="display: none; font-size: 11.4667px;"><div class="suggestions-results"></div><div class="suggestions-special"></div></div></body></html>